<odoo>
    <record id="view_employee_tax_declaration_tree" model="ir.ui.view">
        <field name="name">employee.tax.declaration.list</field>
        <field name="model">employee.tax.declaration</field>
        <field name="arch" type="xml">
            <list>
                <field name="year"/>
                <field name="employee_id"/>
                <field name="total_gross_salary"/>
                <field name="total_irpf_paid"/>
            </list>
        </field>
    </record>

    <record id="view_employee_tax_declaration_form" model="ir.ui.view">
        <field name="name">employee.tax.declaration.form</field>
        <field name="model">employee.tax.declaration</field>
        <field name="arch" type="xml">
            <form string="Declaración de la Renta">
                <sheet>
                    <group>
                        <field name="year"/>
                        <field name="employee_id"/>
                    </group>
                    <group>
                        <field name="total_gross_salary" readonly="1"/>
                        <field name="total_irpf_paid" readonly="1"/>
                    </group>
                    <notebook>
                        <page string="Nóminas">
                            <field name="payroll_ids" domain="[('employee_id', '=', employee_id)]"/>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

    <record id="action_employee_tax_declaration" model="ir.actions.act_window">
        <field name="name">Declaraciones de la renta</field>
        <field name="res_model">employee.tax.declaration</field>
        <field name="view_mode">list,form</field>
    </record>

    <menuitem id="menu_employee_tax_declaration"
              name="Declaraciones de la renta"
              parent="menu_employee_payroll_root"
              action="action_employee_tax_declaration"/>
</odoo>
